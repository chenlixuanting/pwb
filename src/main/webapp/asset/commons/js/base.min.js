/**
 * Minified by jsDelivr using UglifyJS v3.4.4.
 * Original file: /gh/BNDong/Cnblogs-Theme-SimpleMemory@7fd0545db07c675dc1662984a42e996769bdaab6/js/base.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function Base(){var s=this,c=new myTools,d=new ToProgress(window.cnblogsConfig.progressBar,"#bottomProgressBar"),g=0,r={setMenuDataTId:null,setHomeRightMenuTId:null,setNotHomeRightMenuTId:null,setCnzzTId:null,setAmazingTId:null,setCatalogTId:null};this.init=function(){s.loadingBeforeInit(),0<$("#topics").length?s.notHomeInit():s.homeInit(),s.endLoading(),s.loadingAfterInit(),setTimeout(s.clearIntervalAll,3e4)},this.loadingBeforeInit=function(){$("#homeTopTitle").text(window.cnblogsConfig.blogUser),$("#menuBlogAvatar").append("<img src='"+window.cnblogsConfig.blogAvatar+"'>"),window.cnblogsConfig.isBackgroundAnimation&&require(["RibbonsEffect"])},this.loadingAfterInit=function(){$("#menuWrap").optiscroll({forceScrollbars:!0,maxTrackSize:20,preventParentScroll:!0}),s.musicInit(),$(window).scroll(function(){s.scrollMonitor()}),$(window).resize(function(){s.resizeMonitor()});var t,n,e=document.createElement("link");e.rel="shortcut icon",e.href=window.cnblogsConfig.webpageIcon,document.getElementsByTagName("head")[0].appendChild(e),s.addFooter(),r.setMenuDataTId=window.setInterval(s.setMenuData,1e3),s.htmlTitle(),c.consoleText([],"banner"),t=/x/,n=0,console.log(t),t.toString=function(){return"欢迎访问本博客，这是您第 "+ ++n+" 次打开控制台。"}},this.clearIntervalAll=function(){$.each(r,function(t){null!=t&&window.clearInterval(t)})},this.clearIntervalTimeId=function(t){null!=t&&window.clearInterval(t)},this.htmlTitle=function(){var t,n,e,o=document.title;void 0!==document.hidden?(t="hidden",n="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",n="mozvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),void 0===document.addEventListener&&void 0===document[t]||document.addEventListener(n,function(){e&&clearTimeout(e),document[t]?($("#myTopCanvas").hide(),e=setTimeout(function(){document.title=window.cnblogsConfig.webpageTitleOnblur+" - "+o.split(" - ")[0]},window.cnblogsConfig.webpageTitleOnblurTimeOut)):(document.title=window.cnblogsConfig.webpageTitleFocus,e=setTimeout(function(){document.title=o},window.cnblogsConfig.webpageTitleFocusTimeOut),$("#myTopCanvas").fadeIn(4e3))},!1)},this.homeInit=function(){$(".main-header").css("background","#222 url("+window.cnblogsConfig.homeTopImg+")  center center no-repeat").css("background-size","cover"),$(".scroll-down").click(function(){var t=$("#home").offset().top+10;c.actScroll(t,1e3)}),r.setHomeRightMenuTId=window.setInterval(s.addHomeRightMenu,1e3),s.setHitokoto(),s.scrollMonitor(),window.cnblogsConfig.isHomeTopAnimation&&require(["circleMagic"],function(){$(".main-header").circleMagic(window.cnblogsConfig.homeTopAnimation)})},this.notHomeInit=function(){require(["baguetteBox","marvin","articleStatement"],function(t){var n=$("#cnblogs_post_body"),e=$("#cnblogs_post_body img");0<n.length&&0<e.length&&($.each(e,function(t){var n=$(e[t]);void 0===n.attr("id")&&50<n.outerWidth()&&n.wrap("<a class='lightbox' href='"+n.attr("src")+"'></a>")}),t.run(".lightbox")),r.setCatalogTId=window.setInterval(s.initCatalog,1e3),s.scrollMonitor()}),r.setNotHomeRightMenuTId=window.setInterval(s.addNotHomeRightMenu,1e3),s.setNotHomeTopImg(),s.setCommentStyle()},this.initCatalog=function(){var t=$("#sideToolbar");if(0<t.length){var n=$(".main-header").outerHeight();t.css("top",n+20+"px"),s.resizeMonitor(),t.fadeIn(300),s.clearIntervalTimeId(r.setCatalogTId)}},this.setHitokoto=function(){if(""!=window.cnblogsConfig.homeBannerText)return $("#hitokoto").text(window.cnblogsConfig.homeBannerText).css("display","-webkit-box"),!0;var e=["每一个不曾起舞的日子，都是对生命的辜负。","公主死去了，屠龙的少年还在燃烧","我们听过无数的道理，却仍旧过不好这一生。","生如夏花之绚烂，死如秋叶之静美。","但凡不能杀死你的，最终都会使你更强大。","好看的皮囊千篇一律，有趣的灵魂万里挑一。","青春是一本太仓促的书，我们含着泪，一读再读。","教育就是当一个人把在学校所学全部忘光之后剩下的东西。","孤独不是一种脾性，而是一种无奈。","有时候你以为天要塌下来了，其实是自己站歪了。","温柔正确的人总是难以生存，因为这世界既不温柔，也不正确。","死并非生的对立面，而作为生的一部分永存。","不要努力成为一个成功者，要努力成为一个有价值的人。","不要因为走得太远，忘了我们为什么出发。","你的问题主要在于读书不多而想得太多。","岁月不饶人，我亦未曾饶过岁月。","当你凝视深渊时，深渊也在凝视着你。","有的人25岁就死了，只是到75岁才埋葬"];$.ajax({async:!0,crossDomain:!0,url:"https://api.hibai.cn/api/index/index",method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:{TransCode:"030111",OpenId:"123456789",Body:""}}).done(function(t){if(1==t.ResultCode)$("#hitokoto").text(t.Body.word).css("display","-webkit-box"),$("#hitokotoAuthor").text("- "+t.Body.word_from).show();else{var n=c.randomNum(0,e.length-1);$("#hitokoto").text(e[n]).css("display","-webkit-box")}return!1})},this.setNotHomeTopImg=function(){$(".main-header").css("height","40vh").css("background","#222 url("+window.cnblogsConfig.essayTopImg+")  center center no-repeat").css("background-size","cover"),$(".vertical").css("display","none"),$(".scroll-down").css("display","none"),$("#home").css("margin-top","40vh"),$("#cb_post_title_url").addClass("post-del-title"),window.cnblogsConfig.isEssayTopAnimation&&require(["TweenMax","MyTween"],function(){initCanvas("myTopCanvas"),start()})},this.setCommentStyle=function(){var a,t=$(".blog_comment_body");(a=t).each(function(t){var n=$(a[t]).attr("id").split("_");if(0<n.length){var e=n[n.length-1],o=$("#comment_"+e+"_avatar");if(0<o.length&&""!=o.text())var i='<img class="comment-avatar" src="'+o.text()+'"/>';else i='<img class="comment-avatar" src="https://files.cnblogs.com/files/bndong/no_avatar.gif"/>';$(a[t]).before(i)}}),t.addClass("hvr-bob");var n=setInterval(function(){0<$("#comments_pager_bottom").length&&($.each($(".blog_comment_body"),function(t,n){$(n).html('<div class="list"><table class="out" border="0" cellspacing="0" cellpadding="0"> <tr><td align="left" valign="bottom" class="q"><table border="0" cellpadding="0" cellspacing="0" style=""> <tr><td class="topleft"></td><td class="top"></td><td class="topright"></td></tr> <tr><td class="left"></td> <td align="left" class="conmts"><p>'+$(n).html()+'</p> </td> <td class="right"></td></tr> <tr><td class="bottomleft"></td><td class="bottom"></td><td class="bottomright"></td></tr> </table></td> </tr> </table> </div>')}),$(".louzhu").closest(".feedbackItem").find(".out").removeClass("out").addClass("inc"),clearTimeout(n))},50)},this.musicInit=function(){},this.endLoading=function(){$("body").css("overflow","auto"),pageLoading.spinner.setComplete(),$("#loading").fadeOut(300)},this.scrollMonitor=function(){var t=$("#home").offset().top-40,n=$(document).scrollTop(),e=$("#open-button"),o=$("#sideToolbar"),i=$(".main-header").outerHeight(),a=c.getScrollPercent(),l=$("#toUpDown"),s=$("#toUpDownI"),r=$(".toUpDownSpan");d.setProgress(a),i<=n?o.hasClass("sideToolbarFix")||o.addClass("sideToolbarFix"):o.removeClass("sideToolbarFix"),t<=n?(s.rotate({animateTo:0}),l.attr("data","up"),r.text("返回顶部")):(s.rotate({animateTo:-180}),l.attr("data","down"),r.text("跳至底部")),g<n?t<=n&&(e.hasClass("menu-button-scroll")||(e.addClass("menu-button-scroll"),e.text(""))):n<=t&&e.hasClass("menu-button-scroll")&&(e.removeClass("menu-button-scroll"),e.text("MENU")),g=n},this.resizeMonitor=function(){var t=parseFloat(document.body.clientWidth);if(0<$("#sideToolbar").length){var n=$("#mainContent").outerWidth(!0),e=$("#sideCatalog").outerWidth(!0),o=(t-n)/2,i=o-(e=220<e?e:242)-50;$("#sideCatalog").css("right",(0<i?i:0)+"px"),e+50<o&&1230<t?$("#sideToolbar").css("visibility","visible"):$("#sideToolbar").css("visibility","hidden")}},this.rightMenuMous=function(i,a){$(i).on({mouseover:function(){if(".rightBuryitSpan"==a){var t=$("#bury_count").text();$(a).text()!=t&&($(i).attr("clickflg","false"),$(a).text(t))}if(".rightDiggitSpan"==a){t=$("#digg_count").text();$(a).text()!=t&&($(i).attr("clickflg","false"),$(a).text(t))}$(a).show()},mouseout:function(){$(a).hide()},click:function(){if((".rightBuryitSpan"==a||".rightDiggitSpan"==a)&&"false"==$(this).attr("clickflg")){var t=$(a),n=parseInt(t.text())+1;t.text(n),$(this).attr("clickflg","true")}if(".attentionSpan"==a&&(""==$("#p_b_follow").text()||0<$(i+" a").text().indexOf("成功")?$(a).text("已关注"):$(a).text("关注")),".toUpDownSpan"==a)if("down"==$(this).attr("data")){var e=$(document).height(),o=$(window).height();c.actScroll(e-o,2e3)}else c.actScroll(0,2e3)}})},this.addFooter=function(){var t='<i class="iconfont icon-odps-data cnzz" style="position: relative;top: 2px;left: 3px;cursor: pointer;"></i>';t+='<span id="amazingStatSpan"></span>',t+="<div>【"+window.cnblogsConfig.bottomText.left+'<span id="footerTextIcon">❤️</span>'+window.cnblogsConfig.bottomText.right+"】</div>",t+="<div><span id='blogRunTimeSpan'></span><span class='my-face'>ღゝ◡╹)ノ♡</span></div>",t+='<div id="blogrollInfo"></div>',t+='<div id="cnzzInfo"></div>',$("#footer").append(t).prepend('<div class="footer-image"></div>'),-1==window.location.href.search("www.cnblogs.com/bndong")&&($("#footer").prepend('<div class="footer-image"></div>'),setInterval(function(){$("#footer"),0==$("#ThemeAuthors").length?$("#footer").append('<p id="ThemeAuthors" style="color: #444;z-index: 999;">- Theme Authors：<a href="https://www.cnblogs.com/bndong/" target="_blank" style="color:#444;">BNDong</a> -</p></div>'):$("#ThemeAuthors").show().css("visibility","visible")},3e3)),window.setInterval(function(){var t=window.cnblogsConfig.blogStartDate;t=t||"2016-11-17";var n=c.getRunDate(t);$("#blogRunTimeSpan").text("This blog has running : "+n.daysold+" d "+n.hrsold+" h "+n.minsold+" m "+n.seconds+" s")},500),function(){if(0<window.cnblogsConfig.bottomBlogroll.length){for(var t=window.cnblogsConfig.bottomBlogroll,n="友情链接：",e=0;e<t.length;e++)n+='<a href="'+t[e][1]+'" target="_blank">'+t[e][0]+"</a>",e<t.length-1&&(n+='<span style="margin: 0 3px;">/</span>');$("#blogrollInfo").html(n)}}(),r.setCnzzTId=window.setInterval(function(){var t=$(".id_cnzz_stat_icon a");if(0<t.length){var e=[],o=$(t[1]).text().split("|");$.each(o,function(t){var n=$.trim(o[t]);""!=n&&(n=n.replace("今日","Today").replace("昨日","Yesterday").replace("[",":").replace("]",""),e.push(n))}),e.push($(t[2]).text().replace("当前在线","Online").replace("[",":").replace("]","")),$("#cnzzInfo").text(e.join(" | ")),s.clearIntervalTimeId(r.setCnzzTId)}},1e3),r.setAmazingTId=window.setInterval(function(){0<$("#amazingStat").length&&($("#amazingStat").appendTo("#amazingStatSpan").show(),s.clearIntervalTimeId(r.setAmazingTId))},1e3)},this.setMenuData=function(){var t=$("#profile_block").html(),n=$("#sidebar_recentposts ul li"),e=$("#sidebar_postcategory ul li"),o=$("#sidebar_postarchive ul li"),i=$("#TopViewPostsBlock ul li"),a=$("#TopDiggPostsBlock ul li");function l(a,l){var s="<div><ul>",r=/^[1-9]+[0-9]*$/;return a.each(function(t){var n=$($(a[t]).html()),e=n.text().split(".");r.test(e[0])&&e.splice(0,1);var o=$.trim(e.join(".")),i='<span class="iconfont '+l+'" style="color: #888;font-size: 14px;margin-right: 5px;"></span>';n.html(i+o),s+="<li>"+n.prop("outerHTML")+"</li>"}),s+="</ul></div>"}"string"==typeof t&&""==$("#introduce").html()&&$("#introduce").html(c.htmlFiltrationScript(t)),0<n.length&&""==$("#sb-sidebarRecentposts").html()&&$("#sb-sidebarRecentposts").html(l(n,"icon-time_fill")),0<e.length&&""==$("#sb-classify").html()&&$("#sb-classify").html(l(e,"icon-label_fill")),0<o.length&&""==$("#sb-record").html()&&$("#sb-record").html(l(o,"icon-marketing_fill")),0<i.length&&""==$("#sb-topview").html()&&$("#sb-topview").html(l(i,"icon-browse_fill")),0<a.length&&""==$("#sb-topDiggPosts").html()&&$("#sb-topDiggPosts").html(l(a,"icon-like_fill")),0<n.length&&0<e.length&&0<o.length&&0<i.length&&0<a.length&&s.clearIntervalTimeId(r.setMenuDataTId)},this.addHomeRightMenu=function(){var t=$("#rightMenu");if(0<t.length){t.prepend('<div id="toUpDown" data="up"><span class="rightMenuSpan toUpDownSpan">返回顶部</span><div id="toUpDownI"><i class="iconfont icon-zhiding"></i></div></div>'),s.rightMenuMous("#toUpDown",".toUpDownSpan");var n="";if(""!=$("#p_b_follow").text()&&(n=$("#p_b_follow a").attr("onclick")),0<n.indexOf("unfollow")||""==n)var e='<div id="attention" clickflg="true"><span class="rightMenuSpan attentionSpan">已关注</span><i class="iconfont icon-dianzan"></i></div>';else e='<div id="attention" onclick="'+n.replace("unfollow","follow")+'" clickflg="false"><span class="rightMenuSpan attentionSpan">关注</span><i class="iconfont icon-dianzan"></i></div>';t.prepend(e),s.rightMenuMous("#attention",".attentionSpan"),s.scrollMonitor(),s.clearIntervalTimeId(r.setHomeRightMenuTId)}},this.addNotHomeRightMenu=function(){var t=$("#rightMenu");if(0<t.length&&0<$("#div_digg").length){0==$("#toUpDown").length&&0==$("#attention").length&&s.addHomeRightMenu();var n='<div id="rightBuryit" clickflg="false" onclick="'+$(".buryit").attr("onclick")+'"><span class="rightMenuSpan rightBuryitSpan">'+$("#bury_count").text()+'</span><i class="iconfont icon-buzan"></i></div>';t.prepend(n),s.rightMenuMous("#rightBuryit",".rightBuryitSpan");var e='<div id="rightDiggit" clickflg="false" onclick="'+$(".diggit").attr("onclick")+'"><span class="rightMenuSpan rightDiggitSpan">'+$("#digg_count").text()+'</span><i class="iconfont icon-zan1"></i></div>';t.prepend(e),s.rightMenuMous("#rightDiggit",".rightDiggitSpan"),s.clearIntervalTimeId(r.setNotHomeRightMenuTId)}}}
//# sourceMappingURL=/sm/93a1805b579558695ab4ce11a4147a812ec4097f041f783aa8e13ea93ee8662e.map